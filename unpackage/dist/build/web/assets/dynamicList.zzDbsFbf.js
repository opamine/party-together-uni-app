import{o as t,a as e,w as a,h as o,t as s,d as l,n as i,i as r,k as n,b as d,e as c,f as u,F as h,x as m,r as p,y as f}from"./index-dWdSE1tu.js";import{_ as g}from"./_plugin-vue_export-helper.BCo6x5W8.js";import{_ as y}from"./uni-icons.aF66O07D.js";import{r as b}from"./uni-app.es.iIF8edm5.js";import{_}from"./uni-dateformat.CXh3oKs4.js";const x=g({name:"u-badge",props:{type:{type:String,default:"error"},size:{type:String,default:"default"},isDot:{type:Boolean,default:!1},count:{type:[Number,String]},overflowCount:{type:Number,default:99},showZero:{type:Boolean,default:!1},offset:{type:Array,default:()=>[20,20]},absolute:{type:Boolean,default:!0},fontSize:{type:[String,Number],default:"24"},color:{type:String,default:"#ffffff"},bgColor:{type:String,default:""},isCenter:{type:Boolean,default:!1}},computed:{boxStyle(){let t={};return this.isCenter?(t.top=0,t.right=0,t.transform="translateY(-50%) translateX(50%)"):(t.top=this.offset[0]+"rpx",t.right=this.offset[1]+"rpx",t.transform="translateY(0) translateX(0)"),"mini"==this.size&&(t.transform=t.transform+" scale(0.8)"),t},showText(){return this.isDot?"":this.count>this.overflowCount?`${this.overflowCount}+`:this.count},show(){return 0!=this.count||0!=this.showZero}}},[["render",function(d,c,u,h,m,p){const f=n;return p.show?(t(),e(f,{key:0,class:l(["u-badge",[u.isDot?"u-badge-dot":"","mini"==u.size?"u-badge-mini":"",u.type?"u-badge--bg--"+u.type:""]]),style:i([{top:u.offset[0]+"rpx",right:u.offset[1]+"rpx",fontSize:u.fontSize+"rpx",position:u.absolute?"absolute":"static",color:u.color,backgroundColor:u.bgColor},p.boxStyle])},{default:a((()=>[o(s(p.showText),1)])),_:1},8,["class","style"])):r("",!0)}],["__scopeId","data-v-55f0cd70"]]);const S=g({props:{data:{type:Array,default:()=>["https://avatars.githubusercontent.com/u/49026458?v=4","https://avatars.githubusercontent.com/u/2035953?s=40&v=4","https://avatars.githubusercontent.com/u/88035011?s=40&v=4"]}}},[["render",function(l,r,p,f,g,y){const b=m,_=n;return t(),e(_,{class:"participator-list-view"},{default:a((()=>[d(_,{class:"avatars-container",style:i({width:25*(p.data.length>0?(p.data.length>5?5:p.data.length)+1:0)+"rpx"})},{default:a((()=>[(t(!0),c(h,null,u(p.data,((a,o)=>(t(),e(b,{key:o,src:a,style:i({top:0,left:25*o+"rpx"})},null,8,["src","style"])))),128))])),_:1},8,["style"]),d(_,{class:"describle-container"},{default:a((()=>[o(s(p.data.length)+"人参与 ",1)])),_:1})])),_:1})}],["__scopeId","data-v-a213e675"]]);const v=g({name:"u-line",props:{color:{type:String,default:"#e4e7ed"},length:{type:String,default:"100%"},direction:{type:String,default:"row"},hairLine:{type:Boolean,default:!0},margin:{type:String,default:"0"},borderStyle:{type:String,default:"solid"}},computed:{lineStyle(){let t={};return t.margin=this.margin,"row"==this.direction?(t.borderBottomWidth="1px",t.borderBottomStyle=this.borderStyle,t.width=this.$u.addUnit(this.length),this.hairLine&&(t.transform="scaleY(0.5)")):(t.borderLeftWidth="1px",t.borderLeftStyle=this.borderStyle,t.height=this.$u.addUnit(this.length),this.hairLine&&(t.transform="scaleX(0.5)")),t.borderColor=this.color,t}}},[["render",function(a,o,s,l,r,d){const c=n;return t(),e(c,{class:"u-line",style:i([d.lineStyle])},null,8,["style"])}],["__scopeId","data-v-85e19575"]]);const k=g({name:"u-loading",props:{mode:{type:String,default:"circle"},color:{type:String,default:"#c7c7c7"},size:{type:[String,Number],default:"34"},show:{type:Boolean,default:!0}},computed:{cricleStyle(){let t={};return t.width=this.size+"rpx",t.height=this.size+"rpx","circle"==this.mode&&(t.borderColor=`#e4e4e4 #e4e4e4 #e4e4e4 ${this.color?this.color:"#c7c7c7"}`),t}}},[["render",function(a,o,s,d,c,u){const h=n;return s.show?(t(),e(h,{key:0,class:l(["u-loading","circle"==s.mode?"u-loading-circle":"u-loading-flower"]),style:i([u.cricleStyle])},null,8,["class","style"])):r("",!0)}],["__scopeId","data-v-ae8dd367"]]);const z=g({name:"u-loadmore",emits:["loadmore"],props:{bgColor:{type:String,default:"transparent"},icon:{type:Boolean,default:!0},fontSize:{type:String,default:"28"},color:{type:String,default:"#606266"},status:{type:String,default:"loadmore"},iconType:{type:String,default:"circle"},loadText:{type:Object,default:()=>({loadmore:"加载更多",loading:"正在加载...",nomore:"没有更多了"})},isDot:{type:Boolean,default:!1},iconColor:{type:String,default:"#b7b7b7"},marginTop:{type:[String,Number],default:0},marginBottom:{type:[String,Number],default:0},height:{type:[String,Number],default:"auto"}},data:()=>({dotText:"●"}),computed:{loadTextStyle(){return{color:this.color,fontSize:this.fontSize+"rpx",position:"relative",zIndex:1,backgroundColor:this.bgColor}},cricleStyle(){return{borderColor:`#e5e5e5 #e5e5e5 #e5e5e5 ${this.circleColor}`}},flowerStyle:()=>({}),showText(){let t="";return t="loadmore"==this.status?this.loadText.loadmore:"loading"==this.status?this.loadText.loading:"nomore"==this.status&&this.isDot?this.dotText:this.loadText.nomore,t}},methods:{loadMore(){"loadmore"==this.status&&this.$emit("loadmore")}}},[["render",function(r,c,u,h,m,f){const g=b(p("u-line"),v),y=b(p("u-loading"),k),_=n;return t(),e(_,{class:"u-load-more-wrap",style:i({backgroundColor:u.bgColor,marginBottom:u.marginBottom+"rpx",marginTop:u.marginTop+"rpx",height:r.$u.addUnit(u.height)})},{default:a((()=>[d(g,{color:"#d4d4d4",length:"50"}),d(_,{class:l(["loadmore"==u.status||"nomore"==u.status?"u-more":"","u-load-more-inner"])},{default:a((()=>[d(_,{class:"u-loadmore-icon-wrap"},{default:a((()=>[d(y,{class:"u-loadmore-icon",color:u.iconColor,mode:"circle"==u.iconType?"circle":"flower",show:"loading"==u.status&&u.icon},null,8,["color","mode","show"])])),_:1}),d(_,{class:l(["u-line-1",["nomore"==u.status&&1==u.isDot?"u-dot-text":"u-more-text"]]),style:i([f.loadTextStyle]),onClick:f.loadMore},{default:a((()=>[o(s(f.showText),1)])),_:1},8,["style","class","onClick"])])),_:1},8,["class"]),d(g,{color:"#d4d4d4",length:"50"})])),_:1},8,["style"])}],["__scopeId","data-v-d75cbb55"]]);const w=g({props:{mode:{type:String,validator:t=>["participate","publish"].includes(t)}},data:()=>({data:[],loading:!1,current:1,size:10,total:0}),mounted(){this.getData()},methods:{getData(){this.current>1&&this.data.length>=this.total||(this.loading=!0,setTimeout((()=>{this.current++;const t=[];for(let e=0;e<10;e++)t.push({id:e+(this.current-1)*this.size,title:"这是一个很长的活动标题这是一个很长的活动标题这是一个很长的活动标题这是一个很长的活动标题这是一个很长的活动标题",content:"这是一个很长的活动内容",images:["https://zzh-assets.oss-cn-hangzhou.aliyuncs.com/temp/10.JPG"],publisher:"丸子",publisherAvatar:"https://zzh-assets.oss-cn-hangzhou.aliyuncs.com/ramses/avatar.png",startTime:1719900150185,addressName:"文宋阁·肆舍",location:"浙江省杭州市萧山区望京C1座35楼E-F室",lnglat:[120.254429,30.237911]});this.data=this.data.concat(t),this.current++,this.total=20,this.$nextTick((()=>{this.loading=!1}))}),1e3))},clickItem(t){console.log(t)}}},[["render",function(l,i,r,f,g,x){const v=m,k=n,w=b(p("uni-icons"),y),C=b(p("uni-dateformat"),_),T=b(p("participator-list"),S),I=b(p("u-loadmore"),z);return t(),e(k,{class:"activities-list"},{default:a((()=>[(t(!0),c(h,null,u(g.data,(l=>(t(),e(k,{key:l.id,class:"activity-item",onClick:x.clickItem},{default:a((()=>[d(k,{class:"activity-info"},{default:a((()=>[d(k,{class:"activity-image"},{default:a((()=>[d(v,{src:l.images[0],mode:"aspectFill"},null,8,["src"])])),_:2},1024),d(k,{class:"activity-desc"},{default:a((()=>[d(k,{class:"activity-title"},{default:a((()=>[o(s(l.title),1)])),_:2},1024),d(k,{class:"activity-desc-sub"},{default:a((()=>[d(k,{class:"activity-time"},{default:a((()=>[d(k,{class:"icon"},{default:a((()=>[d(w,{type:"calendar",size:"32rpx"})])),_:1}),d(k,{class:"text"},{default:a((()=>[d(C,{date:l.startTime,format:"yyyy.MM.dd hh:mm"},null,8,["date"])])),_:2},1024)])),_:2},1024),d(k,{class:"activity-address"},{default:a((()=>[d(k,{class:"icon"},{default:a((()=>[d(w,{type:"location",size:"32rpx"})])),_:1}),d(k,{class:"text"},{default:a((()=>[o(s(l.addressName),1)])),_:2},1024)])),_:2},1024),d(k,{class:"activity-publisher"},{default:a((()=>[d(k,{class:"icon"},{default:a((()=>[d(w,{type:"person",size:"32rpx"})])),_:1}),d(k,{class:"text"},{default:a((()=>[o(s(l.publisher),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024),d(k,{class:"activity-actions"},{default:a((()=>[d(k,{class:"participator-container"},{default:a((()=>[d(T)])),_:1}),d(k,{class:"action-btn-container"},{default:a((()=>[d(k,{class:"action-btn"},{default:a((()=>[o("活动回顾")])),_:1})])),_:1})])),_:1})])),_:2},1032,["onClick"])))),128)),d(I,{status:g.loading?"loading":g.data.length>=g.total?"nomore":"loadmore","load-text":{loadmore:"上拉加载",loading:"",nomore:"没有更多了"},"font-size":"24"},null,8,["status"])])),_:1})}],["__scopeId","data-v-d8d8bddb"]]);const C=g({props:["data"],data:()=>({dataArr:[[],[]]}),mounted(){this.handleData()},watch:{data:{handler(){this.handleData()},deep:!0}},methods:{handleData(){this.data.forEach(((t,e)=>{const a=e%2;this.dataArr[a].push(t)}))},clickItem(t){this.$emit("clickItem",t)}}},[["render",function(o,s,l,r,m,p){const g=n;return t(),c(h,null,[d(g,{class:"scroll-view-content"},{default:a((()=>[(t(!0),c(h,null,u(m.dataArr,((s,l)=>(t(),e(g,{class:"column",style:i({flex:1,marginRight:0===l?"8px":"0px"}),key:l},{default:a((()=>[(t(!0),c(h,null,u(s,((s,l)=>(t(),e(g,{class:"column-item",key:l,onClick:t=>p.clickItem(s)},{default:a((()=>[f(o.$slots,"default",{item:s},void 0,!0)])),_:2},1032,["onClick"])))),128))])),_:2},1032,["style"])))),128))])),_:3}),f(o.$slots,"bottom",{},void 0,!0)],64)}],["__scopeId","data-v-1352a69f"]]),T=(t,e)=>{const a=Math.ceil(t),o=Math.floor(e);return Math.floor(Math.random()*(o-a+1)+a)};const I=g({components:{waterFall:C},data:()=>({data:[],loading:!1,current:1,size:10,total:0}),mounted(){this.getData()},methods:{getData(){this.current>1&&this.data.length>=this.total||(this.loading=!0,setTimeout((()=>{this.current++;const t=[];for(let e=0;e<10;e++)t.push({id:e+(this.current-1)*this.size,title:"这是动态标题",content:"这是动态内容",images:[`https://zzh-assets.oss-cn-hangzhou.aliyuncs.com/temp/0${T(1,5)}.JPG`],publisher:"周啊粥",publisherAvatar:"https://zzh-assets.oss-cn-hangzhou.aliyuncs.com/ramses/avatar.png",like:!0,likeCount:10});this.data=this.data.concat(t),this.current++,this.total=20,this.$nextTick((()=>{this.loading=!1}))}),1e3))},clickItem(t){console.log(t)}}},[["render",function(l,i,r,c,u,h){const f=m,g=n,_=b(p("uni-icons"),y),x=b(p("u-loadmore"),z),S=b(p("water-fall"),C);return t(),e(g,{class:"dynamics-list"},{default:a((()=>[d(S,{data:u.data,onClickItem:h.clickItem},{default:a((t=>[d(g,{class:"dynamic-item"},{default:a((()=>[d(g,{class:"dynamic-item-image"},{default:a((()=>[d(f,{src:t.item.images[0],mode:"widthFix"},null,8,["src"])])),_:2},1024),d(g,{class:"dynamic-item-title"},{default:a((()=>[o(s(t.item.title),1)])),_:2},1024),d(g,{class:"dynamic-item-action"},{default:a((()=>[d(g,{class:"publisher-info"},{default:a((()=>[d(g,{class:"publisher-avatar"},{default:a((()=>[d(f,{src:t.item.publisherAvatar},null,8,["src"])])),_:2},1024),d(g,{class:"publisher-nick-name"},{default:a((()=>[o(s(t.item.publisher),1)])),_:2},1024)])),_:2},1024),d(g,{class:"like-info"},{default:a((()=>[d(_,{type:t.item.like?"heart-filled":"heart",color:t.item.like?"#e44747":"#5f5f5f",size:"36rpx"},null,8,["type","color"]),d(g,{class:"like-count"},{default:a((()=>[o(s(t.item.likeCount),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),bottom:a((()=>[d(x,{status:u.loading?"loading":u.data.length>=u.total?"nomore":"loadmore","load-text":{loadmore:"上拉加载",loading:"",nomore:"没有更多了"},"font-size":"24"},null,8,["status"])])),_:1},8,["data","onClickItem"])])),_:1})}],["__scopeId","data-v-2da0e2a2"]]);export{x as _,w as a,I as d,S as p,C as w};
