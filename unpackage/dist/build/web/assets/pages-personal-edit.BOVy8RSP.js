import{C as e,r as a,a as s,w as o,m as l,k as r,o as t,b as i,e as n,f as d,F as f,x as c,h as u,t as y,s as g}from"./index-dWdSE1tu.js";import{_ as m}from"./uni-icons.aF66O07D.js";import{r as p}from"./uni-app.es.iIF8edm5.js";import{_ as I}from"./u-upload.PUquYbU8.js";import{_ as k}from"./uni-dateformat.CXh3oKs4.js";import{_}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./u-icon.D_uQwrU8.js";const h=_({data:()=>({userInfo:{},BaseUserInfoFieldsList:[]}),onLoad(){const e=l();this.BaseUserInfoFieldsList=e.globalData.BaseUserInfoFieldsList},onShow(){const e=l();this.userInfo={...e.globalData.userInfo}},methods:{editField(a){"backgroundImage"===a.fieldKey||e({url:`/pages/personal/editField?fieldKey=${a.fieldKey}`})},backgroundImageUploadSuccess(e){this.$set(this.userInfo,"backgroundImage",e.data);l().globalData.userInfo.backgroundImage=e.data},backgroundImageUploadError(e){console.log(e)}}},[["render",function(e,l,_,h,j,b){const U=c,F=p(a("uni-icons"),m),K=r,x=p(a("u-upload"),I),v=g,N=p(a("uni-dateformat"),k);return t(),s(K,{class:"edit-container"},{default:o((()=>[i(K,{class:"avatar-container"},{default:o((()=>[i(K,{class:"avatar-content"},{default:o((()=>[i(U,{class:"avatar",src:j.userInfo.avatar,mode:"aspectFill"},null,8,["src"]),i(K,{class:"camera-icon"},{default:o((()=>[i(F,{type:"camera",size:"30rpx",color:"#fff"})])),_:1})])),_:1})])),_:1}),i(K,{class:"base-info-container"},{default:o((()=>[(t(!0),n(f,null,d(j.BaseUserInfoFieldsList,(e=>(t(),s(K,{key:e.fieldKey,onClick:a=>b.editField(e),class:"base-info-item"},{default:o((()=>[i(K,{class:"label"},{default:o((()=>[u(y(e.fieldName),1)])),_:2},1024),i(K,{class:"value"},{default:o((()=>["backgroundImage"===e.fieldKey?(t(),s(K,{key:0,style:{"text-align":"right"}},{default:o((()=>[i(x,{ref_for:!0,ref:"uUpload1",header:{Authorization:"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJkYXRhIjoiNjU2YjNhMzg1YjY1MjI3ZjBiYmFlODcwIiwiaWF0IjoxNzIxMTAyNTEyLCJleHAiOjE3MjEzNjE3MTJ9.dUTgVvQNDV_x55xg52i8sxVtJ1VRw_WVdgB0cyw83L8gevydNuVI7b9j0fWZBKhnon58oHk2GW-5vFvf0AWU6u7-2UcTpPy90t-kHeEkdjLqn3anEBFlX8PNd81D--CtNGWHrxrPpCENmbAm08QWFrGJ7gqMiCVI6ozl96OvAnSnnpFUddn5sy7U8UfxgVdEfFRD3S-yZrkTua9hgjD9l6gC82Rumrxf_wicNtVtURD8vytTBKogQnyR6UOOOBUa3sSdETWCjPicNf1DwQcuBem76p2fjl2kORkLFnikSs4HvPTX5LqwHaeq99HPVrGd6imHRD9MzCwihddV9zlgYQ"},action:"https://ramses.cn/api/upload/file","auto-upload":!0,"show-upload-list":!1,"custom-btn":!0,onOnSuccess:b.backgroundImageUploadSuccess,onOnError:b.backgroundImageUploadError,style:{display:"inline-block"}},{addBtn:o((()=>[i(K,{style:{"text-align":"right"}},{default:o((()=>[i(U,{src:j.userInfo.backgroundImage,mode:"aspectFit"},null,8,["src"])])),_:1})])),_:1},8,["header","onOnSuccess","onOnError"])])),_:1})):"gender"===e.fieldKey?(t(),s(v,{key:1},{default:o((()=>[u(y("male"===j.userInfo[e.fieldKey]?"男":"女"),1)])),_:2},1024)):"birthday"===e.fieldKey?(t(),s(K,{key:2},{default:o((()=>[i(N,{date:j.userInfo[e.fieldKey],format:"yyyy-MM-dd"},null,8,["date"])])),_:2},1024)):"region"===e.fieldKey?(t(),s(v,{key:3},{default:o((()=>[u(y(j.userInfo[e.fieldKey].join(" ")),1)])),_:2},1024)):"career"===e.fieldKey?(t(),s(v,{key:4},{default:o((()=>[u(y(j.userInfo[e.fieldKey]&&j.userInfo[e.fieldKey].length&&j.userInfo[e.fieldKey].map((e=>e.split("-")[1])).join(" ")||"选择职业"),1)])),_:2},1024)):(t(),s(v,{key:5},{default:o((()=>[u(y(j.userInfo[e.fieldKey]),1)])),_:2},1024))])),_:2},1024),i(K,{class:"right-icon-container"},{default:o((()=>[i(F,{type:"forward",size:"30rpx",color:"#c6c6c6"})])),_:1})])),_:2},1032,["onClick"])))),128))])),_:1}),i(K,{class:"more-info-container"})])),_:1})}],["__scopeId","data-v-cee025d7"]]);export{h as default};
